<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Expires" content="Fri, 15 Aug 2025 21:30:00 GMT">
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">

<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta name="viewport" content="width=device-width" >
<title>KEVONZ ISLAND</title>
<link rel="icon"href="image/favicon.ico">
<!--
<link rel="stylesheet" type="text/css" href=".css">
-->
<style type="text/css">
#body{
    background-color: #000000;
    margin: 0px;
    padding: 0px;
    line-height: 1em;
}
#d1{
    width:970px;
    height:580px;
    margin-right: auto;
    margin-left: auto;
    text-align: center;
    position: relative;
}
#e1{
    width:186px;
    height:120px;
    background-color: #000000;
    border:3px solid #ffffff;
    border-radius:10%;
    position:absolute;
    right:4px;
    top:5px;
    display:none;
}
#ep1{
    text-align:center;
    line-height: 100%;
    margin: 0px;
    padding: 0px;
    font-size:24px;
    color:#ffffff;
    position:absolute;
    right:20px;
    top:17px;
    display:none;
}
#ep2{
    text-align:center;
    line-height: 100%;
    margin: 0px;
    padding: 0px;
    font-size:24px;
    color:#ffffff;
    position:absolute;
    right:30px;
    top:80px;
    display:none;
}
#roulette{
    width:100px;
    height:120px;
    position:absolute;
    right:200px;
    top:8px;
    display:none;
}
#enegu{
    width:100px;
    height:120px;
    position:absolute;
    right:200px;
    top:8px;
    display:none;
}
#enechoki{
    width:100px;
    height:120px;
    position:absolute;
    right:200px;
    top:8px;
    display:none;
}
#enepar{
    width:100px;
    height:120px;
    position:absolute;
    right:200px;
    top:8px;
    display:none;
}
#v1{
    width:186px;
    height:120px;
    background-color: #000000;
    border:3px solid #ffffff;
    border-radius:10%;
    position:absolute;
    left:4px;
    bottom:5px;
    display:none;
}
#vp1{
    text-align:center;
    line-height: 100%;
    margin: 0px;
    padding: 0px;
    font-size:24px;
    color:#ffffff;
    position:absolute;
    left:20px;
    bottom:70px;
    display:none;
}
#vp2{
    text-align:center;
    line-height: 100%;
    margin: 0px;
    padding: 0px;
    font-size:24px;
    color:#ffffff;
    position:absolute;
    left:30px;
    bottom:35px;
    display:none;
}
/*round1*/
#yougu{width:100px;height:40px;position:absolute;left:200px;bottom:88px;opacity:0.5;display:none;}
#youchoki{width:100px;height:40px;position:absolute;left:200px;bottom:48px;opacity:0.5;display:none;}
#youpar{width:100px;height:40px;position:absolute;left:200px;bottom:8px;opacity:0.5;display:none;}

#yougudm{
    width:100px;
    height:40px;
    position:absolute;
    left:200px;
    bottom:88px;
    display:none;
}
#youchokidm{
    width:100px;
    height:40px;
    position:absolute;
    left:200px;
    bottom:48px;
    display:none;
}
#youpardm{
    width:100px;
    height:40px;
    position:absolute;
    left:200px;
    bottom:8px;
    display:none;
}
#pieyama{
    width:270px;
    height:270px;
    position: absolute;
    left:350px;
    top:126px;
    display:none;
}
#msgwindow{
    width:80%;
    height:115px;
    border:3px solid #ffffff;
    margin-right: auto;
    margin-left: auto;
    display:none;
}
#msg1{
    font-size:10pt;
    color:#ffffff;
    text-align: center;
    display:none;
}
#msgwindow2{
    width:776px;
    height:54px;
    border:3px solid #ffffff;
    position: absolute;
    top:385px;
    left:97px;
    display:none;
}
#msg3{
    font-size:15pt;
    color:#ffffff;
    text-align: center;
    display:none;
}
#bocchi{width:19px;height:19px;position:absolute;left:475px;top:280px;}
#diarog1{width:360px;height:270px;position:absolute;left:305px;top:155px;display:none;}
#diarog2{width:360px;height:270px;position:absolute;left:443px;top:20px;display:none;}
#diarog3{width:360px;height:270px;position:absolute;left:130px;top:102px;display:none;}
#diarog4{width:360px;height:270px;position:absolute;left:393px;top:267px;display:none;}
#diarog5{width:360px;height:270px;position:absolute;left:305px;top:155px;display:none;}
#dbt1{width:31px;height:23px;position:absolute;left:634px;top:155px;opacity:0.0;display:none;}
#dbt2{width:31px;height:23px;position:absolute;left:772px;top:20px;opacity:0.0;display:none;}
#dbt3{width:31px;height:23px;position:absolute;left:459px;top:102px;opacity:0.0;display:none;}
#dbt4{width:31px;height:23px;position:absolute;left:722px;top:267px;opacity:0.0;display:none;}
#dbt5{width:31px;height:23px;position:absolute;left:634px;top:155px;opacity:0.0;display:none;}

#nextdoor{
    width:80px;
    height:183px;
    position:absolute;
    top:198px;
    left:445px;
    display:none;
}
#nextdoordm{
    width:80px;
    height:183px;
    position:absolute;
    top:198px;
    left:445px;
    display:none;
}
#blackout{
    width:970px;
    height:580px;
    position:absolute;
    top:0px;
    left:0px;
    opacity: 0.0;
    display:none;
}
#gameover{
    width:970px;
    height:580px;
    position:absolute;
    top:0px;
    left:0px;
    opacity: 0.0;
    display:none;
}
#encount{
    width:970px;
    height:580px;
    position:absolute;
    top:0px;
    left:0px;
    display:none;
}
#aikokun{
    width:970px;
    height:306px;
    position:absolute;
    top:137px;
    right:0px;
    display:none;
}
#memoleft{width:753px;height:580px;position: absolute;left:108px;top:0px;display:none;}
#memo{width:106px;height:21px;position: absolute;left:432px;top:279px;display:none;}
#yukie{width:970px;height:560px;position: absolute;left:0px;top:10px;display:none;}
/*★★★★★★★★★★★★★★★★★★★★★ロード画面★★★★★★★★★★★★★★★★★★★★★*/
#loadback{
    width:970px;height:580px;
    position:absolute;left:0px;top:0px;
    background-color:#000000;
}
#nowloading{
    width:231px;height:231px;
    position:absolute;left:0px;right:0px;top:0px;bottom:0px;margin:auto;
    user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;
}
</style>

</head>
<body id="body">
<!--効果音の二次配布・無断利用禁止。各効果音素材のサイト様へのリンクはトップページにございます。-->
<!--Secondary distribution of sound effects · Unauthorized use prohibited. The link to the site of each sound effect material is on the top page.-->
<!--音声の二次配布・無断利用禁止。-->
<!--Secondary distribution of voice / unauthorized use prohibited.-->

<!--/*
<audio id="screamse" preload="auto">
<source src="pse/scream.wav" type="audio/wav">
<source src="pse/scream.mp3" type="audio/mp3">
</audio>

<audio id="sentoubgm" preload="auto" loop>
<source src="pse/janbgm1.wav" type="audio/wav">
<source src="pse/janbgm1.mp3" type="audio/mp3">
</audio>

<audio id="buttonse" preload="auto">
<source src="pse/janbutton.wav" type="audio/wav">
<source src="pse/janbutton.mp3" type="audio/mp3">
</audio>

<audio id="piedeathse" preload="auto">
<source src="pse/janpiedeath.wav" type="audio/wav">
<source src="pse/janpiedeath.mp3" type="audio/mp3">
</audio>

<audio id="ydamagese" preload="auto">
<source src="pse/janyoudamage.wav" type="audio/wav">
<source src="pse/janyoudamage.mp3" type="audio/mp3">
</audio>

<audio id="edamagese" preload="auto">
<source src="pse/janenedamage.wav" type="audio/wav">
<source src="pse/janenedamage.mp3" type="audio/mp3">
</audio>

<audio id="pienoroise" preload="auto">
<source src="pse/janpienoroi.wav" type="audio/wav">
<source src="pse/janpienoroi.mp3" type="audio/mp3">
</audio>

<audio id="aikokunse" preload="auto">
<source src="se/takawarai.wav" type="audio/wav">
<source src="se/takawarai.mp3" type="audio/mp3">
</audio>

<audio id="encountse" preload="auto">
<source src="pse/janencount.wav" type="audio/wav">
<source src="pse/janencount.mp3" type="audio/mp3">
</audio>
*/-->
<div id="d1">
<img src="pimg/mainlink.jpg"id="bocchi">
<img src="pimg/diarog1.jpg"id="diarog1">
<img src="pimg/diarogbt.jpg"id="dbt1">
<img src="pimg/diarog2.jpg"id="diarog2">
<img src="pimg/diarogbt.jpg"id="dbt2">
<img src="pimg/diarog3.jpg"id="diarog3">
<img src="pimg/diarogbt.jpg"id="dbt3">
<img src="pimg/diarog4.jpg"id="diarog4">
<img src="pimg/diarogbt.jpg"id="dbt4">
<img src="pimg/diarog5.jpg"id="diarog5">
<img src="pimg/diarogbt.jpg"id="dbt5">
<div id="e1"></div>
<p id="ep1"></p>
<p id="ep2"></p>
<div id="v1"></div>
<p id="vp1"></p>
<p id="vp2"></p>
<img src="pimg/homed.png"id="pieyama">
<!--メッセージウィンドウ1-->
<div id="msgwindow">
<p id="msg1">
</p>
</div>
<!--メッセージウィンドウ2-->
<div id="msgwindow2">
<p id="msg3"></p>
</div>
<!--round1-->
<img src="pimg/janguy.jpg"id="yougu">
<img src="pimg/janchokiy.jpg"id="youchoki">
<img src="pimg/janpary.jpg"id="youpar">
<img src="pimg/janerandom.gif"id="roulette">
<img src="pimg/janguy.jpg"id="yougudm">
<img src="pimg/janchokiy.jpg"id="youchokidm">
<img src="pimg/janpary.jpg"id="youpardm">
<img src="pimg/jangue.jpg"id="enegu">
<img src="pimg/janchokie.jpg"id="enechoki">
<img src="pimg/janpare.jpg"id="enepar">
<img src="pimg/homed.png"id="encount">
<img src="pimg/janaikokun.jpg"id="aikokun">
<!--勝敗判定後-->
<img src="pimg/door.jpg"id="nextdoor">
<img src="pimg/door.jpg"id="nextdoordm">
<img src="pimg/blackout.jpg"id="blackout">
<img src="pimg/gameover.jpg"id="gameover">
<!--メモイベント-->
<img src="pimg/janpiememoleft.jpg"id="memoleft">
<img src="pimg/janmemokirehashi.jpg"id="memo">
<img src="pimg/mainyukie.gif"id="yukie">

<!--★★★★★★★★★★★★★★★★★ロード画面★★★★★★★★★★★★★★★★★-->
<div id="loadback"></div>
<img src="pimg/nowloading.gif"id="nowloading">
</div>
<script>
/*★★★★★★★★★★★★★★★★★右クリック＆画像ドロップ禁止★★★★★★★★★★★★★★★★★★★★*/
document.oncontextmenu = function(){return false;}
document.onselectstart = function(){return false;}
document.onmousedown = function(){return false;}

/*■■■■■■■■■■■■■■■■■■■■ここに効果音の名前入力■■■■■■■■■■■■■■■■■■■■*/
/*★には同じ数字、☆には同じスペル(変数、関数)、◇にはファイルのパスを入力
let sampleSource★ = '';
async function decodeSe★(){
    const response★ = await fetch("◇◇◇");
    const arrayBuffer★ = await response★.arrayBuffer();
    const audioBuffer★ = await ctx.decodeAudioData(arrayBuffer★);
    return audioBuffer★;
}
function playSe★(ctx,audioBuffer★){
    sampleSource★ = ctx.createBufferSource();
    sampleSource★.buffer = audioBuffer★;
    sampleSource★.connect(ctx.destination);
    sampleSource★.start();
}
async function se☆Play(){
    const se☆ = await decodeSe★();
    playSe★(ctx,se☆);
}
async function se☆Stop(){
    sampleSource★?.stop();
}
*/

/*
<audio id="screamse" preload="auto">
<source src="pse/scream.mp3" type="audio/mp3">【済】
</audio>

<audio id="sentoubgm" preload="auto" loop>
<source src="pse/janbgm1.mp3" type="audio/mp3">【済】
</audio>

<audio id="buttonse" preload="auto">
<source src="pse/janbutton.mp3" type="audio/mp3">【済】
</audio>

<audio id="piedeathse" preload="auto">
<source src="pse/janpiedeath.mp3" type="audio/mp3">【済】
</audio>

<audio id="ydamagese" preload="auto">
<source src="pse/janyoudamage.mp3" type="audio/mp3">【済】
</audio>

<audio id="edamagese" preload="auto">
<source src="pse/janenedamage.mp3" type="audio/mp3">【済】
</audio>

<audio id="pienoroise" preload="auto">
<source src="pse/janpienoroi.mp3" type="audio/mp3">【済】
</audio>

<audio id="aikokunse" preload="auto">
<source src="se/takawarai.mp3" type="audio/mp3">【済】
</audio>

<audio id="encountse" preload="auto">
<source src="pse/janencount.mp3" type="audio/mp3">
</audio>

<audio id="yukiese" preload="auto">
<source src="pse/kbsmkoe.mp3" type="audio/mp3">
</audio>
*/

/*★★★★★★★★★★★★★★★★★効果音のセット★★★★★★★★★★★★★★★★★★★★*/
window.AudioContext = window.AudioContext||window.webkitAudioContext;
const ctx = new AudioContext();

/*■■■■■■■■■■■■■■■■■■■■ここに効果音の名前入力■■■■■■■■■■■■■■■■■■■■*/
let sampleSource1 = '';
async function decodeSe1(){
    const response1 = await fetch("pse/scream.mp3");
    const arrayBuffer1 = await response1.arrayBuffer();
    const audioBuffer1 = await ctx.decodeAudioData(arrayBuffer1);
    return audioBuffer1;
}
function playSe1(ctx,audioBuffer1){
    sampleSource1 = ctx.createBufferSource();
    sampleSource1.buffer = audioBuffer1;
    sampleSource1.connect(ctx.destination);
    sampleSource1.start();
}
async function sescreamPlay(){
    const sescream = await decodeSe1();
    playSe1(ctx,sescream);
}
async function sescreamStop(){
    sampleSource1?.stop();
}

/*■■■■■■■■■■■■■■■■■■■■ここに効果音の名前入力■■■■■■■■■■■■■■■■■■■■*/
let sampleSource2 = '';
async function decodeSe2(){
    const response2 = await fetch("pse/janbgm1.mp3");
    const arrayBuffer2 = await response2.arrayBuffer();
    const audioBuffer2 = await ctx.decodeAudioData(arrayBuffer2);
    return audioBuffer2;
}
function playSe2(ctx,audioBuffer2){
    sampleSource2 = ctx.createBufferSource();
    sampleSource2.buffer = audioBuffer2;
    sampleSource2.loop = true;
    /*音量を小さくする*/
    const gainNode = ctx.createGain();
    gainNode.gain.value = 0.3;
    sampleSource2.connect(gainNode);
    gainNode.connect(ctx.destination);
    sampleSource2.start();
}
async function sesentoubgmPlay(){
    const sesentoubgm = await decodeSe2();
    playSe2(ctx,sesentoubgm);
}
async function sesentoubgmStop(){
    sampleSource2?.stop();
}

/*■■■■■■■■■■■■■■■■■■■■ここに効果音の名前入力■■■■■■■■■■■■■■■■■■■■*/
let sampleSource3 = '';
async function decodeSe3(){
    const response3 = await fetch("pse/janbutton.mp3");
    const arrayBuffer3 = await response3.arrayBuffer();
    const audioBuffer3 = await ctx.decodeAudioData(arrayBuffer3);
    return audioBuffer3;
}
function playSe3(ctx,audioBuffer3){
    sampleSource3 = ctx.createBufferSource();
    sampleSource3.buffer = audioBuffer3;
    sampleSource3.connect(ctx.destination);
    sampleSource3.start();
}
async function sebuttonPlay(){
    const sebutton = await decodeSe3();
    playSe3(ctx,sebutton);
}
async function sebuttonStop(){
    sampleSource3?.stop();
}

/*■■■■■■■■■■■■■■■■■■■■ここに効果音の名前入力■■■■■■■■■■■■■■■■■■■■*/
let sampleSource4 = '';
async function decodeSe4(){
    const response4 = await fetch("pse/janpiedeath.mp3");
    const arrayBuffer4 = await response4.arrayBuffer();
    const audioBuffer4 = await ctx.decodeAudioData(arrayBuffer4);
    return audioBuffer4;
}
function playSe4(ctx,audioBuffer4){
    sampleSource4 = ctx.createBufferSource();
    sampleSource4.buffer = audioBuffer4;
    sampleSource4.connect(ctx.destination);
    sampleSource4.start();
}
async function sepiedeathPlay(){
    const sepiedeath = await decodeSe4();
    playSe4(ctx,sepiedeath);
}
async function sepiedeathStop(){
    sampleSource4?.stop();
}

/*■■■■■■■■■■■■■■■■■■■■ここに効果音の名前入力■■■■■■■■■■■■■■■■■■■■*/
let sampleSource5 = '';
async function decodeSe5(){
    const response5 = await fetch("pse/janyoudamage.mp3");
    const arrayBuffer5 = await response5.arrayBuffer();
    const audioBuffer5 = await ctx.decodeAudioData(arrayBuffer5);
    return audioBuffer5;
}
function playSe5(ctx,audioBuffer5){
    sampleSource5 = ctx.createBufferSource();
    sampleSource5.buffer = audioBuffer5;
    sampleSource5.connect(ctx.destination);
    sampleSource5.start();
}
async function seydamagePlay(){
    const seydamage = await decodeSe5();
    playSe5(ctx,seydamage);
}
async function seydamageStop(){
    sampleSource5?.stop();
}

/*■■■■■■■■■■■■■■■■■■■■ここに効果音の名前入力■■■■■■■■■■■■■■■■■■■■*/
let sampleSource6 = '';
async function decodeSe6(){
    const response6 = await fetch("pse/janenedamage.mp3");
    const arrayBuffer6 = await response6.arrayBuffer();
    const audioBuffer6 = await ctx.decodeAudioData(arrayBuffer6);
    return audioBuffer6;
}
function playSe6(ctx,audioBuffer6){
    sampleSource6 = ctx.createBufferSource();
    sampleSource6.buffer = audioBuffer6;
    sampleSource6.connect(ctx.destination);
    sampleSource6.start();
}
async function seedamagePlay(){
    const seedamage = await decodeSe6();
    playSe6(ctx,seedamage);
}
async function seedamageStop(){
    sampleSource6?.stop();
}

/*■■■■■■■■■■■■■■■■■■■■ここに効果音の名前入力■■■■■■■■■■■■■■■■■■■■*/
let sampleSource7 = '';
async function decodeSe7(){
    const response7 = await fetch("pse/janpienoroi.mp3");
    const arrayBuffer7 = await response7.arrayBuffer();
    const audioBuffer7 = await ctx.decodeAudioData(arrayBuffer7);
    return audioBuffer7;
}
function playSe7(ctx,audioBuffer7){
    sampleSource7 = ctx.createBufferSource();
    sampleSource7.buffer = audioBuffer7;
    sampleSource7.connect(ctx.destination);
    sampleSource7.start();
}
async function sepienoroiPlay(){
    const sepienoroi = await decodeSe7();
    playSe7(ctx,sepienoroi);
}
async function sepienoroiStop(){
    sampleSource7?.stop();
}

/*■■■■■■■■■■■■■■■■■■■■ここに効果音の名前入力■■■■■■■■■■■■■■■■■■■■*/
let sampleSource8 = '';
async function decodeSe8(){
    const response8 = await fetch("se/takawarai.mp3");
    const arrayBuffer8 = await response8.arrayBuffer();
    const audioBuffer8 = await ctx.decodeAudioData(arrayBuffer8);
    return audioBuffer8;
}
function playSe8(ctx,audioBuffer8){
    sampleSource8 = ctx.createBufferSource();
    sampleSource8.buffer = audioBuffer8;
    sampleSource8.connect(ctx.destination);
    sampleSource8.start();
}
async function seaikokunPlay(){
    const seaikokun = await decodeSe8();
    playSe8(ctx,seaikokun);
}
async function seaikokunStop(){
    sampleSource8?.stop();
}


/*■■■■■■■■■■■■■■■■■■■■ここに効果音の名前入力■■■■■■■■■■■■■■■■■■■■*/
let sampleSource9 = '';
async function decodeSe9(){
    const response9 = await fetch("pse/janencount.mp3");
    const arrayBuffer9 = await response9.arrayBuffer();
    const audioBuffer9 = await ctx.decodeAudioData(arrayBuffer9);
    return audioBuffer9;
}
function playSe9(ctx,audioBuffer9){
    sampleSource9 = ctx.createBufferSource();
    sampleSource9.buffer = audioBuffer9;
    sampleSource9.connect(ctx.destination);
    sampleSource9.start();
}
async function seencountPlay(){
    const seencount = await decodeSe9();
    playSe9(ctx,seencount);
}
async function seencountStop(){
    sampleSource9?.stop();
}

/*■■■■■■■■■■■■■■■■■■■■ここに効果音の名前入力■■■■■■■■■■■■■■■■■■■■*/
let sampleSource10 = '';
async function decodeSe10(){
    const response10 = await fetch("pse/kbsmkoe.mp3");
    const arrayBuffer10 = await response10.arrayBuffer();
    const audioBuffer10 = await ctx.decodeAudioData(arrayBuffer10);
    return audioBuffer10;
}
function playSe10(ctx,audioBuffer10){
    sampleSource10 = ctx.createBufferSource();
    sampleSource10.buffer = audioBuffer10;
    sampleSource10.connect(ctx.destination);
    sampleSource10.start();
}
async function seyukiePlay(){
    const seyukie = await decodeSe10();
    playSe10(ctx,seyukie);
}
async function seyukieStop(){
    sampleSource10?.stop();
}

/*★★★★★★★★★★★★★★★★★★★★★ロード画面★★★★★★★★★★★★★★★★★★★★★★★★*/
let loadback = document.getElementById('loadback');
let nowloading = document.getElementById('nowloading');
/*★★★★★★★★★★★★★★★★読み込みが完了したらロード画面を非表示★★★★★★★★★★★★★★★★*/
window.addEventListener('load',function(){
    nowloading.style.display = 'none';
    loadback.style.display = 'none';
});
let body = document.getElementById('body');
let bocchi = document.getElementById('bocchi');
let diarog1 = document.getElementById('diarog1');
let diarog2 = document.getElementById('diarog2');
let diarog3 = document.getElementById('diarog3');
let diarog4 = document.getElementById('diarog4');
let diarog5 = document.getElementById('diarog5');
let dbt1 = document.getElementById('dbt1');
let dbt2 = document.getElementById('dbt2');
let dbt3 = document.getElementById('dbt3');
let dbt4 = document.getElementById('dbt4');
let dbt5 = document.getElementById('dbt5');
let encount = document.getElementById('encount');
let pieyama = document.getElementById('pieyama');
let msgwindow = document.getElementById('msgwindow');
let msg1 = document.getElementById('msg1');
let msgwindow2 = document.getElementById('msgwindow2');
let msg3 = document.getElementById('msg3');
let e1 = document.getElementById('e1');
let ep1 = document.getElementById('ep1');
let ep2 = document.getElementById('ep2');
let v1 = document.getElementById('v1');
let vp1 = document.getElementById('vp1');
let vp2 = document.getElementById('vp2');
let roulette = document.getElementById('roulette');
//round1
let yougu = document.getElementById('yougu');
let youchoki = document.getElementById('youchoki');
let youpar = document.getElementById('youpar');
//それ以外
let yougudm = document.getElementById('yougudm');
let youchokidm = document.getElementById('youchokidm');
let youpardm = document.getElementById('youpardm');
let enegu = document.getElementById('enegu');
let enechoki = document.getElementById('enechoki');
let enepar = document.getElementById('enepar');
let aikokun = document.getElementById('aikokun');
let fps1 = 0;
//こっちと相手のHP
let youhp = 100;
let enehp = 100;
//1st round********************************************************
const GU = 1;
const CHOKI = 2;
const PAR = 3;
//こっちがグー
let humhand1 = 0;
let comhand1 = 0;
let fps2 = 0;
let fps3 = 0;
let fps4 = 0;
//こっちがチョキ
let humhand2 = 0;
let comhand2 = 0;
let fps5 = 0;
let fps6 = 0;
let fps7 = 0;
//こっちがパー
let humhand3 = 0;
let comhand3 = 0;
let fps8 = 0;
let fps9 = 0;
let fps10 = 0;

//勝敗判定時
let fpswin = 0;
let fpslose = 0;
let blackout = document.getElementById('blackout');
let gameover = document.getElementById('gameover');
let nextdoor = document.getElementById('nextdoor');
let nextdoordm = document.getElementById('nextdoordm');

//SE・BGM
//let sescream = document.getElementById('screamse');
//let bgmsentou = document.getElementById('sentoubgm');
//let sebutton = document.getElementById('buttonse');
//let sepiedeath = document.getElementById('piedeathse');
//let seydamage = document.getElementById('ydamagese');
//let seedamage = document.getElementById('edamagese');
//let sepienoroi = document.getElementById('pienoroise');
//let seaikokun = document.getElementById('aikokunse');
//let seencount = document.getElementById('encountse');
//load(); play(); pause();

//要素全消し
function allnone(){
    e1.style.display = 'none';
    ep1.style.display = 'none';
    ep2.style.display = 'none';
    v1.style.display = 'none';
    vp1.style.display = 'none';
    vp2.style.display = 'none';
    msgwindow2.style.display = 'none';
    msg3.style.display = 'none';
    yougudm.style.display = 'none';
    youchokidm.style.display = 'none';
    youpardm.style.display = 'none';
    enegu.style.display = 'none';
    enechoki.style.display = 'none';
    enepar.style.display = 'none';
}

//ジャンケンゲーム用意
function janReady(){
    msg1.style.display = 'none';
    msgwindow.style.display = 'none';
    msgwindow2.style.display = 'block';
    msg3.style.display = 'block';
    msg3.innerText = 'Izberite eno od spodnjih treh kartic in kliknite nanjo.';
    e1.style.display = 'block';
    ep1.style.display = 'block';
    ep1.innerText = 'Princess Homed\n----------------';
    ep2.style.display = 'block';
    ep2.innerText = 'HP:100/100';
    v1.style.display = 'block';
    vp1.style.display = 'block';
    vp1.innerText = 'You\n----------------';
    vp2.style.display = 'block';
    vp2.innerText = 'HP:100/100';
    roulette.style.display = 'inline';
    yougu.style.display = 'inline';
    youchoki.style.display = 'inline';
    youpar.style.display = 'inline';
}

//ボッチとウィンドウクリック
bocchi.addEventListener('mouseover',function(){bocchi.style.cursor = 'pointer';});
bocchi.addEventListener('click',function(){
    bocchi.style.display = 'none';
    diarog1.style.display = 'inline';
    dbt1.style.display = 'inline';
    decodeSe1();
    decodeSe2();
});

dbt1.addEventListener('mouseover',function(){dbt1.style.cursor = 'pointer';dbt1.style.opacity = '1.0';});
dbt1.addEventListener('mouseout',function(){dbt1.style.opacity = '0.0';});
dbt1.addEventListener('click',function(){
    diarog1.style.display = 'none';
    dbt1.style.display = 'none';
    diarog2.style.display = 'inline';
    dbt2.style.display = 'inline';
    decodeSe3();
    decodeSe4();
});

dbt2.addEventListener('mouseover',function(){dbt2.style.cursor = 'pointer';dbt2.style.opacity = '1.0';});
dbt2.addEventListener('mouseout',function(){dbt2.style.opacity = '0.0';});
dbt2.addEventListener('click',function(){
    diarog2.style.display = 'none';
    dbt2.style.display = 'none';
    diarog3.style.display = 'inline';
    dbt3.style.display = 'inline';
    decodeSe5();
    decodeSe6();
});

dbt3.addEventListener('mouseover',function(){dbt3.style.cursor = 'pointer';dbt3.style.opacity = '1.0';});
dbt3.addEventListener('mouseout',function(){dbt3.style.opacity = '0.0';});
dbt3.addEventListener('click',function(){
    diarog3.style.display = 'none';
    dbt3.style.display = 'none';
    diarog4.style.display = 'inline';
    dbt4.style.display = 'inline';
    decodeSe7();
    decodeSe8();
});

dbt4.addEventListener('mouseover',function(){dbt4.style.cursor = 'pointer';dbt4.style.opacity = '1.0';});
dbt4.addEventListener('mouseout',function(){dbt4.style.opacity = '0.0';});
dbt4.addEventListener('click',function(){
    diarog4.style.display = 'none';
    dbt4.style.display = 'none';
    diarog5.style.display = 'inline';
    dbt5.style.display = 'inline';
    decodeSe9();
    decodeSe10();
});
//最初に出てくるドアをクリックした時
dbt5.addEventListener('mouseover',function(){dbt5.style.cursor = 'pointer';dbt5.style.opacity = '1.0';});
dbt5.addEventListener('mouseout',function(){dbt5.style.opacity = '0.0';});
dbt5.addEventListener('click',function(){
    //sescream.load();
    //sescream.play();
    sescreamPlay();
    diarog5.style.display = 'none';
    dbt5.style.display = 'none';
    encount.style.display = 'inline';
    let timerId1 = setInterval(function(){
        switch(fps1){
            case 10:
            //seencount.load();
            //seencount.play();
            seencountPlay();
            break;
            case 19:
            //bgmsentou.load();
            //bgmsentou.play();
            sesentoubgmPlay();
            pieyama.style.display = 'inline';
            msgwindow.style.display = 'block';
            msg1.style.display = 'block';
            msg1.innerText = '\n\nPrincesa Mohamed: "Bori se z mano!"」\n(Princess Mohammed: "Fight with me!")';
            encount.style.display = 'none';
            break;
            case 29:
            janReady();
            clearInterval(timerId1);
        }
        fps1++;
    },200);
});

//役を押した時に音を鳴らし、こっちの手札3つを押せないように非表示にする
function BtseAndJanbthide(){
    //sebutton.load();
    //sebutton.play();
    sebuttonPlay();
    yougu.style.display = 'none';
    youchoki.style.display = 'none';
    youpar.style.display = 'none';
}

//現在のラウンドの数値を初期化・表示を非表示にして次のラウンドを用意する
function roundYoui(){
    humhand1 = 0;
    humhand2 = 0;
    humhand3 = 0;
    comhand1 = 0;
    comhand2 = 0;
    comhand3 = 0;
    fps2 = 0;
    fps3 = 0;
    fps4 = 0;
    fps5 = 0;
    fps6 = 0;
    fps7 = 0;
    fps8 = 0;
    fps9 = 0;
    fps10 = 0;
    yougudm.style.display = 'none';
    youchokidm.style.display = 'none';
    youpardm.style.display = 'none';
    enegu.style.display = 'none';
    enechoki.style.display = 'none';
    enepar.style.display = 'none';
    yougu.style.display = 'inline';
    youchoki.style.display = 'inline';
    youpar.style.display = 'inline';
    roulette.style.display = 'inline';
    msg3.innerText = 'Izberite eno od spodnjih treh kartic in kliknite nanjo.';
}

//互いの残りHPの表示変更(残りHPが0以下になった場合、負の数は0で表示する)
function hpHenkou(){
    //こっちのHP
    if(youhp<=0){
        vp2.innerText = 'HP:000/100';
    }else if(youhp<100){
        vp2.innerText = 'HP:0'+youhp+'/100';
    }else{
        vp2.innerText = 'HP:100/100';
    }
    //相手のHP
    if(enehp<=0){
        ep2.innerText = 'HP:000/100';
    }else if(enehp<100){
        ep2.innerText = 'HP:0'+enehp+'/100';
    }else{
        ep2.innerText = 'HP:100/100';
    }
}
//互いのHPの値が変わった後に残りHPをチェックして値に応じて処理を変える
function hpCheck(){
    if(youhp>0 && enehp<=0){
        let wintimer = setInterval(function(){
            switch(fpswin){
                case 1:
                msg3.innerText = 'ピエ山に勝利した！';
                //sepiedeath.load();
                //sepiedeath.play();
                sepiedeathPlay();
                break;
                case 2:
                pieyama.style.opacity = '0.8';
                break;
                case 4:
                pieyama.style.opacity = '0.6';
                break;
                case 6:
                pieyama.style.opacity = '0.4';
                break;
                case 8:
                pieyama.style.opacity = '0.2';
                break;
                case 10:
                pieyama.style.display = 'none';
                blackout.style.display = 'inline';
                break;
                case 12:
                blackout.style.opacity = '0.2';
                break;
                case 14:
                blackout.style.opacity = '0.4';
                break;
                case 16:
                blackout.style.opacity = '0.6';
                break;
                case 18:
                blackout.style.opacity = '0.8';
                break;
                case 20:
                blackout.style.opacity = '1.0';
                nextdoordm.style.display = 'inline';
                //bgmsentou.pause();
                sesentoubgmStop();
                allnone();
                break;
                case 22:
                blackout.style.opacity = '0.8';
                break;
                case 24:
                blackout.style.opacity = '0.6';
                break;
                case 26:
                blackout.style.opacity = '0.4';
                break;
                case 28:
                blackout.style.opacity = '0.2';
                break;
                case 30:
                blackout.style.display = 'none';
                nextdoordm.style.display = 'none';
                nextdoor.style.display = 'inline';
                clearInterval(wintimer);
                break;
                }
                fpswin++;
                },80);
    }else if((youhp<=0 && enehp>0)||(youhp<=0 && enehp<=0)){
        let losetimer = setInterval(function(){
            switch(fpslose){
                case 1:
                msg3.innerText = 'ピエ山に敗北した・・・。';
                break;
                case 12:
                gameover.style.display = 'inline';
                break;
                case 14:
                gameover.style.opacity = '0.2';
                body.style.backgroundColor = '#330000';
                break;
                case 16:
                gameover.style.opacity = '0.4';
                body.style.backgroundColor = '#660000';
                break;
                case 18:
                gameover.style.opacity = '0.6';
                body.style.backgroundColor = '#990000';
                break;
                case 20:
                gameover.style.opacity = '0.8';
                body.style.backgroundColor = '#cc0000';
                break;
                case 22:
                gameover.style.opacity = '1.0';
                body.style.backgroundColor = '#ff0000';
                //bgmsentou.pause();
                sesentoubgmStop();
                allnone();
                break;
                case 34:
                location.href = 'topd.html';
                clearInterval(losetimer);
                break;
                }
                fpslose++;
                },80);
    }else{
        roundYoui();
    }
}

//■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■こっちがグー出した時のパターン■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
yougu.addEventListener('mouseover',function(){yougu.style.opacity = '1.0';yougu.style.cursor = 'pointer';});
yougu.addEventListener('mouseout',function(){yougu.style.opacity = '0.5';});
yougu.addEventListener('click',function(){
    BtseAndJanbthide();
    yougudm.style.display = 'inline';
    humhand1 = GU;
    comhand1 = Math.floor(Math.random()*3)+1;
    switch(comhand1){
        //■■■■■■■■■■こっちグー相手グーであいこ■■■■■■■■■■
        case GU:
        roulette.style.display = 'none';
        enegu.style.display = 'inline';
        let timerId2 = setInterval(function(){
            switch(fps2){
                case 12:
                //seaikokun.load();
                //seaikokun.play();
                seaikokunPlay();
                aikokun.style.display = 'inline';
                break;
                case 24:
                v1.style.backgroundColor = '#ff0000';
                e1.style.backgroundColor = '#ff0000';
                //seydamage.load();
                //seydamage.play();
                seydamagePlay();
                enehp -= 20;
                youhp -= 20;
                hpHenkou();
                break;
                case 25:
                v1.style.backgroundColor = '#000000';
                e1.style.backgroundColor = '#000000';
                break;
                case 36:
                aikokun.style.display = 'none';
                //残りHPをチェックして勝利パターンor敗北パターンor次のROUNDを用意
                hpCheck();
                //ここまで
                clearInterval(timerId2);
                break;
            }
            fps2++;
        },83);
        break;
        //■■■■■■■■■■こっちグー相手チョキで相手負け■■■■■■■■■■
        case CHOKI:
        roulette.style.display = 'none';
        enechoki.style.display = 'inline';
        let timerId3 = setInterval(function(){
            switch(fps3){
                case 12:
                msg3.innerText = 'ピエ山に右ストレートを喰らわせた！';
                break;
                case 24:
                pieyama.style.display = 'none';
                e1.style.backgroundColor = '#ff0000';
                //seedamage.load();
                //seedamage.play();
                seedamagePlay();
                enehp -= 20;
                hpHenkou();
                msg3.innerText = 'ピエ山に20のダメージを与えた！';
                break;
                case 25:
                pieyama.style.display = 'inline';
                e1.style.backgroundColor = '#000000';
                break;
                case 36:
                //残りHPをチェックして勝利パターンor敗北パターンor次のROUNDを用意
                hpCheck();
                //ここまで
                clearInterval(timerId3);
                break;
            }
            fps3++;
        },83);
        break;
        //■■■■■■■■■■こっちグー相手パーでこっち負け■■■■■■■■■■
        case PAR:
        roulette.style.display = 'none';
        enepar.style.display = 'inline';
        let timerId4 = setInterval(function(){
            switch(fps4){
                case 12:
                //sepienoroi.load();
                //sepienoroi.play();
                sepienoroiPlay();
                pieyama.style.display = 'none';
                msg3.innerText = 'ピエ山は呪いを唱えた。';
                break;
                case 24:
                pieyama.style.display = 'inline';
                v1.style.backgroundColor = '#ff0000';
                //seydamage.load();
                //seydamage.play();
                seydamagePlay();
                youhp -= 20;
                hpHenkou();
                msg3.innerText = 'あなたは20のダメージを受けた。';
                break;
                case 25:
                v1.style.backgroundColor = '#000000';
                break;
                case 36:
                //残りHPをチェックして勝利パターンor敗北パターンor次のROUNDを用意
                hpCheck();
                //ここまで
                clearInterval(timerId4);
                break;
            }
            fps4++;
        },83);
        break;
    }
});
//■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■こっちがチョキ出した時のパターン■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
youchoki.addEventListener('mouseover',function(){youchoki.style.opacity = '1.0';youchoki.style.cursor = 'pointer';});
youchoki.addEventListener('mouseout',function(){youchoki.style.opacity = '0.5';});
youchoki.addEventListener('click',function(){
    BtseAndJanbthide();
    youchokidm.style.display = 'inline';
    humhand2 = CHOKI;
    comhand2 = Math.floor(Math.random()*3)+1;
    switch(comhand2){
        //■■■■■■■■■■こっちチョキ相手グーでこっち負け■■■■■■■■■■
        case GU:
        roulette.style.display = 'none';
        enegu.style.display = 'inline';
        let timerId5 = setInterval(function(){
            switch(fps5){
                case 12:
                msg3.innerText = 'ピエ山は美しいフォルムの右ストレートを繰り出した。';
                break;
                case 24:
                v1.style.backgroundColor = '#ff0000';
                //seydamage.load();
                //seydamage.play();
                seydamagePlay();
                youhp -= 20;
                hpHenkou();
                msg3.innerText = 'あなたは20のダメージを受けた。';
                break;
                case 25:
                v1.style.backgroundColor = '#000000';
                break;
                case 36:
                //残りHPをチェックして勝利パターンor敗北パターンor次のROUNDを用意
                hpCheck();
                //ここまで
                clearInterval(timerId5);
                break;
            }
            fps5++;
        },83);
        break;
        //■■■■■■■■■■こっちチョキ相手チョキであいこ■■■■■■■■■■
        case CHOKI:
        roulette.style.display = 'none';
        enechoki.style.display = 'inline';
        let timerId6 = setInterval(function(){
            switch(fps6){
                case 12:
                //seaikokun.load();
                //seaikokun.play();
                seaikokunPlay();
                aikokun.style.display = 'inline';
                break;
                case 24:
                v1.style.backgroundColor = '#ff0000';
                e1.style.backgroundColor = '#ff0000';
                //seydamage.load();
                //seydamage.play();
                seydamagePlay();
                enehp -= 20;
                youhp -= 20;
                hpHenkou();
                break;
                case 25:
                v1.style.backgroundColor = '#000000';
                e1.style.backgroundColor = '#000000';
                break;
                case 36:
                aikokun.style.display = 'none';
                //残りHPをチェックして勝利パターンor敗北パターンor次のROUNDを用意
                hpCheck();
                //ここまで
                clearInterval(timerId6);
                break;
            }
            fps6++;
        },83);
        break;
        //■■■■■■■■■■こっちチョキ相手パーで相手負け■■■■■■■■■■
        case PAR:
        roulette.style.display = 'none';
        enepar.style.display = 'inline';
        let timerId7 = setInterval(function(){
            fps7++;
            switch(fps7){
                case 13:
                //sepienoroi.load();
                //sepienoroi.play();
                sepienoroiPlay();
                msg3.innerText = 'あなたは呪いを跳ね返す結界を張った！';
                break;
                case 26:
                e1.style.backgroundColor = '#ff0000';
                //seedamage.load();
                //seedamage.play();
                seedamagePlay();
                enehp -= 20;
                hpHenkou();
                msg3.innerText = 'ピエ山に20のダメージを与えた！';
                break;
                case 27:
                e1.style.backgroundColor = '#000000';
                break;
                case 28:
                break;
                case 38:
                //残りHPをチェックして勝利パターンor敗北パターンor次のROUNDを用意
                hpCheck();
                //ここまで
                clearInterval(timerId7);
                break;
            }
        },80);
        break;
    }
});
//■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■こっちがパー出した時のパターン■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
youpar.addEventListener('mouseover',function(){youpar.style.opacity = '1.0';youpar.style.cursor = 'pointer';});
youpar.addEventListener('mouseout',function(){youpar.style.opacity = '0.5';});
youpar.addEventListener('click',function(){
    BtseAndJanbthide();
    youpardm.style.display = 'inline';
    humhand3 = PAR;
    comhand3 = Math.floor(Math.random()*3)+1;
    switch(comhand3){
        //■■■■■■■■■■こっちパー相手グーで相手負け■■■■■■■■■■
        case GU:
        roulette.style.display = 'none';
        enegu.style.display = 'inline';
        let timerId8 = setInterval(function(){
            fps8++;
            switch(fps8){
                case 12:
                msg3.innerText = 'あなたはナタを振り下ろした！';
                break;
                case 21:
                pieyama.style.display = 'none';
                break;
                case 23:
                pieyama.style.display = 'inline';
                break;
                case 25:
                pieyama.style.display = 'none';
                e1.style.backgroundColor = '#ff0000';
                //seedamage.load();
                //seedamage.play();
                seedamagePlay();
                enehp -= 20;
                hpHenkou();
                msg3.innerText = 'ピエ山に20のダメージを与えた！';
                break;
                case 26:
                pieyama.style.display = 'inline';
                e1.style.backgroundColor = '#000000';
                break;
                case 38:
                //残りHPをチェックして勝利パターンor敗北パターンor次のROUNDを用意
                hpCheck();
                //ここまで
                clearInterval(timerId8);
                break;
            }
        },80);
        break;
        //■■■■■■■■■■こっちパー相手チョキでこっち負け■■■■■■■■■■
        case CHOKI:
        roulette.style.display = 'none';
        enechoki.style.display = 'inline';
        let timerId9 = setInterval(function(){
            switch(fps9){
                case 12:
                msg3.innerText = 'ナタを振り下ろした腕をホールドされ、そのまま背負い投げされた。';
                break;
                case 24:
                v1.style.backgroundColor = '#ff0000';
                //seydamage.load();
                //seydamage.play();
                seydamagePlay();
                youhp -= 20;
                hpHenkou();
                msg3.innerText = 'あなたは20のダメージを受けた。';
                break;
                case 25:
                v1.style.backgroundColor = '#000000';
                break;
                case 36:
                //残りHPをチェックして勝利パターンor敗北パターンor次のROUNDを用意
                hpCheck();
                //ここまで
                clearInterval(timerId9);
                break;
            }
            fps9++;
        },80);
        break;
        //■■■■■■■■■■こっちパー相手パーであいこ■■■■■■■■■■
        case PAR:
        roulette.style.display = 'none';
        enepar.style.display = 'inline';
        let timerId10 = setInterval(function(){
            switch(fps10){
                case 12:
                //seaikokun.load();
                //seaikokun.play();
                seaikokunPlay();
                aikokun.style.display = 'inline';
                break;
                case 24:
                v1.style.backgroundColor = '#ff0000';
                e1.style.backgroundColor = '#ff0000';
                //seydamage.load();
                //seydamage.play();
                seydamagePlay();
                enehp -= 20;
                youhp -= 20;
                hpHenkou();
                break;
                case 25:
                v1.style.backgroundColor = '#000000';
                e1.style.backgroundColor = '#000000';
                break;
                case 36:
                aikokun.style.display = 'none';
                //残りHPをチェックして勝利パターンor敗北パターンor次のROUNDを用意
                hpCheck();
                //ここまで
                clearInterval(timerId10);
                break;
            }
            fps10++;
        },83);
        break;
    }
});

//メモイベントアイテム
let yukie = document.getElementById('yukie');
//let seyukie = document.getElementById('yukiese');
let memo = document.getElementById('memo');
let memoleft = document.getElementById('memoleft');
let yfp = 0;

//ユキエさん出現
nextdoor.addEventListener('mouseover',function(){nextdoor.style.cursor = 'pointer';});
nextdoor.addEventListener('click',function(){
    //seyukie.load();
    //seyukie.play();
    seyukiePlay();
    nextdoor.style.display = 'none';
    yukie.style.display = 'inline';
    let yukiefinish = setInterval(function(){
        if(yfp >= 1){
            yukie.style.display = 'none';
            memo.style.display = 'inline';
            clearInterval(yukiefinish);
        }
        yfp++;
    },240);
});
//メモを開く
memo.addEventListener('mouseover',function(){memo.style.cursor = 'pointer';});
memo.addEventListener('click',function(){
    memo.style.display = 'none';
    memoleft.style.display = 'inline';
});
</script>
<!--
<script src="pjs/jquery-3.3.1.min.js"></script>
<script src="pjs/.js"></script>
-->
</body>
</html>
